{"version":3,"sources":["../../../test-kit/matchers/dataInstanceMatchers.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;QAAO,CAAC;;QACD,IAAI;;QACJ,QAAQ;;AAEf,QAAI,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,EAAE,YAAU;AACjD,YAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;AACzB,eAAO,IAAI,qBAAqB,CAAC,QAAQ,CAAC,CAAC;KAC9C,CAAC,CAAC;;QAEG,qBAAqB;iBAArB,qBAAqB;kCAArB,qBAAqB;;;;;;;kBAArB,qBAAqB;;qBAArB,qBAAqB;AAEvB,kBAAM;uBAAA,gBAAC,cAAc,EAAC;;;AAClB,wBAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;AACzB,wBAAI,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;;AAEtD,qBAAC,CAAC,OAAO,CAAC,UAAU,EAAE,UAAC,SAAS,EAAE,SAAS,EAAK;AAC5C,sCAAc,CAAC,IAAI,0BAA0B,CAAC;AAC1C,iCAAK,EAAE,QAAQ,CAAC,SAAS,CAAC;AAC1B,gCAAI,EAAE,SAAS;AACf,gCAAI,EAAE,SAAS;yBAClB,QAAO,CAAC,CAAC;qBACb,CAAC,CAAC;;AAEH,2BAAO,IAAI,qBAAqB,CAAC,QAAQ,CAAC,CAAC;iBAC9C;;;;eAfC,qBAAqB;OAAS,IAAI,CAAC,SAAS;;QAmB5C,0BAA0B;iBAA1B,0BAA0B;kCAA1B,0BAA0B;;;;;;;kBAA1B,0BAA0B;;qBAA1B,0BAA0B;AAE5B,wBAAY;;;;;;;;;;;mBAAA,YAAE;AACV,wBAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;AACtB,wBAAI,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;;AAEzC,wBAAI,CAAC,MAAM,CACP,KAAK,CAAC,KAAK,KAAK,YAAY,EAC5B,mBAAkB,GAAG,KAAK,CAAC,IAAI,GAAG,2CAA0C,EAC5E,mBAAkB,GAAG,KAAK,CAAC,IAAI,GAAG,+CAA8C,EAChF,YAAY,EACZ,KAAK,CAAC,KAAK,EACX,IAAI,CACP,CAAC;;AAEF,2BAAO,IAAI,0BAA0B,CAAC,KAAK,CAAC,CAAC;iBAChD;;;;eAhBC,0BAA0B;OAAS,IAAI,CAAC,SAAS","file":"test-kit/matchers/dataInstanceMatchers.js","sourcesContent":["import _ from 'lodash'\nimport chai from 'chai'\nimport Typorama from '../../src'\n\nchai.Assertion.addProperty(\"dataInstance\", function(){\n    var instance = this._obj;\n    return new DataInstanceAssertion(instance);\n});\n\nclass DataInstanceAssertion extends chai.Assertion {\n\n    fields(expectFunction){\n        var instance = this._obj;\n        var fieldsSpec = instance.constructor.getFieldsSpec();\n\n        _.forEach(fieldsSpec, (fieldSpec, fieldName) => {\n            expectFunction(new DataInstanceFieldAssertion({\n                value: instance[fieldName],\n                name: fieldName,\n                spec: fieldSpec\n            }, this));\n        });\n\n        return new DataInstanceAssertion(instance);\n    }\n\n}\n\nclass DataInstanceFieldAssertion extends chai.Assertion {\n\n    defaultValue(){\n        var field = this._obj;\n        var defaultValue = field.spec.defaults();\n\n        this.assert(\n            field.value === defaultValue,\n            'expected field \"' + field.name + '\" to be the default value but got #{act}',\n            'expected field \"' + field.name + '\" not to be the default value but got #{act}',\n            defaultValue,\n            field.value,\n            true\n        );\n\n        return new DataInstanceFieldAssertion(field);\n    }\n\n}\n"]}